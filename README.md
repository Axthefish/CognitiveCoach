# CognitiveCoach

ä¸€ä¸ªåŸºäºAIçš„è®¤çŸ¥æˆé•¿æ•™ç»ƒåº”ç”¨ï¼Œå¸®åŠ©ç”¨æˆ·æ¾„æ¸…ç›®æ ‡ã€æ„å»ºé€šç”¨æ¡†æ¶å¹¶ç”Ÿæˆä¸ªæ€§åŒ–æˆé•¿æ–¹æ¡ˆã€‚

## ğŸŒŸ ç‰¹æ€§

- **ä¸‰é˜¶æ®µæ™ºèƒ½æµç¨‹**
  - Stage 0: ç›®çš„æ¾„æ¸… - é€šè¿‡å¯¹è¯å¼äº¤äº’æ·±å…¥ç†è§£ç”¨æˆ·ç›®æ ‡
  - Stage 1: é€šç”¨æ¡†æ¶ç”Ÿæˆ - åˆ›å»ºé€»è¾‘æµç¨‹å›¾å’Œå…³é”®è¦ç´ åˆ†æ
  - Stage 2: ä¸ªæ€§åŒ–æ–¹æ¡ˆ - åŠ¨æ€æ”¶é›†ä¿¡æ¯å¹¶å®æ—¶ç”Ÿæˆå®šåˆ¶åŒ–æ–¹æ¡ˆ

- **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**
  - Next.js 15 + React 19 + TypeScript
  - Tailwind CSS 4 ç»ç’ƒæ€è®¾è®¡
  - Google Gemini AI é©±åŠ¨
  - å®Œæ•´çš„ç±»å‹å®‰å…¨å’ŒéªŒè¯

- **ä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒ**
  - å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
  - å®æ—¶å¯è§†åŒ–æµç¨‹å›¾
  - ä¼šè¯æŒä¹…åŒ–ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ 
  - å¤šè¯­è¨€æ”¯æŒï¼ˆä¸­æ–‡/è‹±æ–‡ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- npm æˆ– pnpm åŒ…ç®¡ç†å™¨

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone <repository-url>
cd axthefish-CognitiveCoach

# å®‰è£…ä¾èµ–
npm install
```

### é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` åˆ° `.env.local` å¹¶é…ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼š

```bash
cp .env.example .env.local
```

å¿…éœ€çš„ç¯å¢ƒå˜é‡ï¼š

- `GEMINI_API_KEY` æˆ– `GOOGLE_AI_API_KEY`: Google Gemini API å¯†é’¥
  - è·å–åœ°å€: https://makersuite.google.com/app/apikey

å¯é€‰çš„ç¯å¢ƒå˜é‡ï¼š

- `HEALTH_TOKEN`: å¥åº·æ£€æŸ¥ç«¯ç‚¹çš„è®¤è¯ä»¤ç‰Œï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰
- `ALLOWED_ORIGINS`: CORS å…è®¸çš„æºï¼ˆç”Ÿäº§ç¯å¢ƒå¿…éœ€ï¼‰
- `GEMINI_MODEL`: è‡ªå®šä¹‰ Gemini æ¨¡å‹åç§°ï¼ˆé»˜è®¤: gemini-2.5-proï¼‰
- `GEMINI_LITE_MODEL`: è½»é‡çº§æ¨¡å‹åç§°ï¼ˆé»˜è®¤: gemini-2.5-flash-liteï¼‰

### æœ¬åœ°å¼€å‘

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
# http://localhost:3000
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºåº”ç”¨
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
```

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•å¹¶ç›‘å¬æ–‡ä»¶å˜åŒ–
npm run test:watch

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage
```

### ä»£ç è´¨é‡æ£€æŸ¥

```bash
# è¿è¡Œ ESLint
npm run lint

# ç±»å‹æ£€æŸ¥
npm run build
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ app/                        # Next.js App Router
â”‚   â”œâ”€â”€ api/                   # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ stage0/           # Stage 0: ç›®çš„æ¾„æ¸…
â”‚   â”‚   â”œâ”€â”€ stage1/           # Stage 1: æ¡†æ¶ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ stage2/           # Stage 2: ä¸ªæ€§åŒ–æ–¹æ¡ˆ
â”‚   â”‚   â””â”€â”€ health/           # å¥åº·æ£€æŸ¥
â”‚   â”œâ”€â”€ client-page-v2.tsx    # ä¸»å®¢æˆ·ç«¯é¡µé¢
â”‚   â”œâ”€â”€ page.tsx              # æœåŠ¡ç«¯å…¥å£
â”‚   â””â”€â”€ layout.tsx            # æ ¹å¸ƒå±€
â”‚
â”œâ”€â”€ components/                # React ç»„ä»¶
â”‚   â”œâ”€â”€ chat-interface/       # èŠå¤©ç•Œé¢ç»„ä»¶
â”‚   â”œâ”€â”€ logic-flow-chart/     # æµç¨‹å›¾å¯è§†åŒ–
â”‚   â”œâ”€â”€ ui/                   # UI åŸºç¡€ç»„ä»¶
â”‚   â”œâ”€â”€ stage0-view.tsx       # Stage 0 è§†å›¾
â”‚   â”œâ”€â”€ stage1-view.tsx       # Stage 1 è§†å›¾
â”‚   â””â”€â”€ stage2-view.tsx       # Stage 2 è§†å›¾
â”‚
â”œâ”€â”€ lib/                       # æ ¸å¿ƒåº“å’Œå·¥å…·
â”‚   â”œâ”€â”€ prompts/              # AI Prompt æ¨¡æ¿
â”‚   â”œâ”€â”€ api-client.ts         # API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ store-v2.ts           # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ types-v2.ts           # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ gemini-config.ts      # Gemini AI é…ç½®
â”‚   â””â”€â”€ logger.ts             # æ—¥å¿—å·¥å…·
â”‚
â”œâ”€â”€ services/                  # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ stage0-service.ts     # Stage 0 æœåŠ¡
â”‚   â”œâ”€â”€ stage1-service.ts     # Stage 1 æœåŠ¡
â”‚   â””â”€â”€ stage2-service.ts     # Stage 2 æœåŠ¡
â”‚
â”œâ”€â”€ locales/                   # å›½é™…åŒ–ç¿»è¯‘
â”‚   â”œâ”€â”€ zh/                   # ä¸­æ–‡
â”‚   â””â”€â”€ en/                   # è‹±æ–‡
â”‚
â””â”€â”€ tests/                     # æµ‹è¯•æ–‡ä»¶
    â”œâ”€â”€ unit/                 # å•å…ƒæµ‹è¯•
    â””â”€â”€ integration/          # é›†æˆæµ‹è¯•
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

æœ¬é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„ä¸‰å±‚æ¶æ„ï¼š

1. **è¡¨ç°å±‚ (Components)**
   - React ç»„ä»¶è´Ÿè´£ UI æ¸²æŸ“å’Œç”¨æˆ·äº¤äº’
   - Zustand ç®¡ç†å…¨å±€çŠ¶æ€
   - å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯

2. **æœåŠ¡å±‚ (Services)**
   - ä¸šåŠ¡é€»è¾‘å°è£…
   - AI Prompt ç®¡ç†å’Œä¼˜åŒ–
   - æ•°æ®éªŒè¯å’Œé”™è¯¯å¤„ç†

3. **æ•°æ®å±‚ (API Routes)**
   - Next.js API Routes å¤„ç†è¯·æ±‚
   - Google Gemini AI é›†æˆ
   - ç±»å‹å®‰å…¨çš„æ•°æ®æµ

è¯¦ç»†æ¶æ„æ–‡æ¡£è¯·å‚è€ƒ [ARCHITECTURE.md](./ARCHITECTURE.md)

## ğŸ”§ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
- **Next.js 15.2.4** - React æ¡†æ¶
- **React 19.0.0** - UI åº“
- **TypeScript 5.x** - ç±»å‹å®‰å…¨
- **Tailwind CSS 4.x** - æ ·å¼æ¡†æ¶

### çŠ¶æ€ç®¡ç†
- **Zustand 5.0.7** - è½»é‡çº§çŠ¶æ€ç®¡ç†
- æ”¯æŒæŒä¹…åŒ–å’Œä¼šè¯æ¢å¤

### AI é›†æˆ
- **Google Generative AI** - Gemini API
- **Zod 4.0.17** - Schema éªŒè¯

### å¯è§†åŒ–
- **Mermaid 11.9.0** - æµç¨‹å›¾æ¸²æŸ“
- **ECharts 5.6.0** - æ•°æ®å›¾è¡¨
- **Framer Motion 12.x** - åŠ¨ç”»æ•ˆæœ

### UI ç»„ä»¶
- **Radix UI** - æ— éšœç¢ç»„ä»¶åº“
- **Lucide React** - å›¾æ ‡åº“
- **clsx** - æ¡ä»¶æ ·å¼å·¥å…·

## ğŸš€ éƒ¨ç½²

### Vercel éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. åœ¨ Vercel ä¸­å¯¼å…¥é¡¹ç›®
2. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå‚è€ƒ `.env.example`ï¼‰
3. éƒ¨ç½²

### å…¶ä»–å¹³å°

ç¡®ä¿å¹³å°æ”¯æŒ Next.js 15 å’Œ Node.js 18+

```bash
# æ„å»º
npm run build

# å¯åŠ¨
npm start
```

## ğŸ”’ å®‰å…¨æ€§

- âœ… æ‰€æœ‰ API å¯†é’¥å­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­
- âœ… CORS é…ç½®ä¿æŠ¤ç”Ÿäº§ç¯å¢ƒ
- âœ… è¾“å…¥éªŒè¯å’Œæ•°æ®æ¸…ç†
- âœ… ç±»å‹å®‰å…¨çš„æ•°æ®æµ
- âœ… å¥åº·æ£€æŸ¥ç«¯ç‚¹è®¤è¯

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ Issue è”ç³»æˆ‘ä»¬ã€‚

---

Made with â¤ï¸ by CognitiveCoach Team

